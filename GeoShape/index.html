<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Volume Architect</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #2c3e50; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        #game-container { background: #34495e; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); width: 450px; text-align: center; }
        .hidden { display: none; }
        h1 { color: #f1c40f; margin-top: 0; }
        .stats { display: flex; justify-content: space-between; margin-bottom: 20px; font-weight: bold; color: #bdc3c7; }
        
        /* Image Display Styling */
        #shape-display { 
            background: #ecf0f1; 
            height: 150px; 
            margin-bottom: 15px; 
            border-radius: 10px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
        }

        .shape-info { background: #2c3e50; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 5px solid #f1c40f; text-align: left; }
        input { width: 80%; padding: 10px; border-radius: 5px; border: none; margin-bottom: 10px; font-size: 16px; }
        button { background: #27ae60; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px; font-weight: bold; }
        button:hover { background: #2ecc71; }
        #feedback { margin-top: 15px; font-weight: bold; height: 20px; }
        svg { filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2)); }
    </style>
</head>
<body>

<div id="game-container">
    <h1>üìê Architect Escape</h1>
    
    <div id="game-ui">
        <div class="stats">
            <span>Level: <span id="level-num">1</span>/5</span>
            <span>Score: <span id="score">0</span></span>
        </div>

        <div id="shape-display"></div>

        <div class="shape-info" id="question-box"></div>

        <input type="number" id="user-answer" placeholder="Enter Volume...">
        <br>
        <button onclick="checkAnswer()">Submit Answer</button>
        <div id="feedback"></div>
    </div>

    <div id="result-screen" class="hidden">
        <h2>Game Over!</h2>
        <p id="final-rank"></p>
        <h1 id="final-score">0</h1>
        <button onclick="location.reload()">Play Again</button>
    </div>
</div>

<script>
    const levels = [
        {
            title: "The Cuboid Corridor",
            desc: "A cuboid storage box. <br>L = 5, W = 3, H = 10",
            formula: "V = L √ó W √ó H",
            ans: 150,
            points: 10,
            // SVG for Cuboid
            svg: `<svg width="100" height="100" viewBox="0 0 100 100">
                    <rect x="20" y="40" width="50" height="40" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
                    <path d="M20 40 L40 20 L90 20 L70 40 Z" fill="#5dade2" stroke="#2980b9" stroke-width="2"/>
                    <path d="M70 40 L90 20 L90 60 L70 80 Z" fill="#2980b9" stroke="#1c5980" stroke-width="2"/>
                  </svg>`
        },
        {
            title: "Triangular Tunnel",
            desc: "Prism with triangular base.<br>Base = 4, Height = 6, Length = 15",
            formula: "V = (1/2 √ó b √ó h) √ó L",
            ans: 180,
            points: 20,
            svg: `<svg width="120" height="100" viewBox="0 0 120 100">
                    <path d="M20 80 L50 20 L80 80 Z" fill="#e67e22" stroke="#d35400" stroke-width="2"/>
                    <path d="M50 20 L100 30 L130 90 L80 80 Z" fill="#f39c12" stroke="#d35400" stroke-width="2"/>
                  </svg>`
        },
        {
            title: "The Square Pyramid",
            desc: "A sharp pyramid.<br>Base side = 6, Vertical Height = 10",
            formula: "V = 1/3 √ó (s √ó s) √ó h",
            ans: 120,
            points: 30,
            svg: `<svg width="100" height="100" viewBox="0 0 100 100">
                    <path d="M50 10 L20 80 L80 80 Z" fill="#f1c40f" stroke="#f39c12" stroke-width="2"/>
                    <path d="M50 10 L80 80 L95 65 Z" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
                  </svg>`
        },
        {
            title: "The Cylinder Silo",
            desc: "A gas tank. (Use œÄ = 22/7)<br>Radius = 7, Height = 20",
            formula: "V = œÄr¬≤h",
            ans: 3080,
            points: 40,
            svg: `<svg width="100" height="100" viewBox="0 0 100 100">
                    <ellipse cx="50" cy="20" rx="30" ry="10" fill="#95a5a6" stroke="#7f8c8d" stroke-width="2"/>
                    <rect x="20" y="20" width="60" height="60" fill="#bdc3c7" />
                    <line x1="20" y1="20" x2="20" y2="80" stroke="#7f8c8d" stroke-width="2"/>
                    <line x1="80" y1="20" x2="80" y2="80" stroke="#7f8c8d" stroke-width="2"/>
                    <path d="M20 80 A30 10 0 0 0 80 80" fill="none" stroke="#7f8c8d" stroke-width="2"/>
                  </svg>`
        },
        {
            title: "The Final Boss (Composite)",
            desc: "Cylinder (r=3, h=5) + Cone (r=3, h=7).<br>Give answer in terms of œÄ",
            formula: "V = (œÄr¬≤h) + (1/3œÄr¬≤h)",
            ans: 66,
            points: 50,
            svg: `<svg width="100" height="120" viewBox="0 0 100 120">
                    <path d="M50 5 L25 40 A25 8 0 0 0 75 40 Z" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
                    <rect x="25" y="40" width="50" height="50" fill="#c0392b" />
                    <ellipse cx="50" cy="40" rx="25" ry="8" fill="#ff7675" stroke="#c0392b" stroke-width="2"/>
                    <path d="M25 90 A25 8 0 0 0 75 90" fill="none" stroke="#c0392b" stroke-width="2" stroke-dasharray="2"/>
                    <line x1="25" y1="40" x2="25" y2="90" stroke="#c0392b" stroke-width="2"/>
                    <line x1="75" y1="40" x2="75" y2="90" stroke="#c0392b" stroke-width="2"/>
                  </svg>`
        }
    ];

    let currentLevel = 0;
    let score = 0;

    function loadLevel() {
        const level = levels[currentLevel];
        document.getElementById('level-num').innerText = currentLevel + 1;
        document.getElementById('shape-display').innerHTML = level.svg;
        document.getElementById('question-box').innerHTML = `
            <strong>${level.title}</strong><br>
            <p>${level.desc}</p>
            <small>Formula: ${level.formula}</small>
        `;
        document.getElementById('user-answer').value = '';
        document.getElementById('feedback').innerText = '';
    }

    function checkAnswer() {
        const userVal = parseFloat(document.getElementById('user-answer').value);
        const correctVal = levels[currentLevel].ans;
        const feedback = document.getElementById('feedback');

        if (userVal === correctVal) {
            score += levels[currentLevel].points;
            document.getElementById('score').innerText = score;
            feedback.style.color = "#2ecc71";
            feedback.innerText = "CORRECT! + " + levels[currentLevel].points;
            
            setTimeout(() => {
                currentLevel++;
                if (currentLevel < levels.length) {
                    loadLevel();
                } else {
                    showResults();
                }
            }, 1500);
        } else {
            feedback.style.color = "#e74c3c";
            feedback.innerText = "Wrong! Try again.";
        }
    }

    function showResults() {
        document.getElementById('game-ui').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('final-score').innerText = "Score: " + score;
        
        let rank = "";
        if (score >= 150) rank = "Grand Architect üëë";
        else if (score >= 100) rank = "Master Builder üë∑";
        else rank = "Apprentice üîß";
        
        document.getElementById('final-rank').innerText = rank;
    }

    loadLevel();
</script>

</body>
</html>