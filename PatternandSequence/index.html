<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sequence Breach 1.0 - Form 2 Math</title>
    <style>
        :root {
            --neon-blue: #58a6ff;
            --neon-green: #3fb950;
            --neon-red: #f85149;
            --bg-dark: #0d1117;
            --panel-bg: #161b22;
        }

        body { 
            background: var(--bg-dark); 
            color: var(--neon-blue); 
            font-family: 'Courier New', Courier, monospace; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            overflow: hidden;
        }

        #game-container { 
            background: var(--panel-bg); 
            border: 2px solid #30363d; 
            padding: 2rem; 
            border-radius: 15px; 
            text-align: center; 
            box-shadow: 0 0 30px rgba(88, 166, 255, 0.1); 
            width: 450px; 
            position: relative;
        }

        .header-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            margin-bottom: 20px;
            border-bottom: 1px solid #30363d;
            padding-bottom: 10px;
        }

        .hearts { color: var(--neon-red); font-size: 1.2rem; }

        h2 { margin: 10px 0; letter-spacing: 3px; color: #fff; }

        .sequence-display { 
            font-size: 1.8rem; 
            margin: 30px 0; 
            font-weight: bold;
            color: #79c0ff; 
            text-shadow: 0 0 10px rgba(121, 192, 255, 0.5);
        }

        input { 
            background: #000; 
            border: 2px solid var(--neon-blue); 
            color: #fff; 
            padding: 12px; 
            width: 80px; 
            text-align: center; 
            font-size: 1.5rem; 
            outline: none;
            border-radius: 5px;
        }

        button { 
            background: transparent; 
            color: var(--neon-green); 
            border: 1px solid var(--neon-green); 
            padding: 10px 25px; 
            cursor: pointer; 
            border-radius: 5px; 
            font-weight: bold; 
            margin-top: 20px;
            transition: 0.3s;
        }

        button:hover { 
            background: var(--neon-green); 
            color: #000; 
            box-shadow: 0 0 15px var(--neon-green);
        }

        #feedback { 
            margin-top: 20px; 
            height: 24px; 
            font-weight: bold;
            text-transform: uppercase;
        }

        .score-box { color: gold; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="header-info">
        <div>LEVEL: <span id="level-num">1</span>/5</div>
        <div class="score-box">SCORE: <span id="score">0</span></div>
        <div class="hearts" id="life-display">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
    </div>

    <h2>SEQUENCE BREACH</h2>
    <p>Decrypt the next term in the pattern:</p>
    
    <div class="sequence-display" id="sequence">--</div>

    <input type="number" id="user-input" placeholder="??">
    <br>
    <button onclick="checkAnswer()">INITIALIZE OVERRIDE</button>
    
    <div id="feedback"></div>
</div>

<script>
    const levels = [
        { seq: [5, 11, 17, 23], ans: 29, type: "Arithmetic (+6)" },
        { seq: [100, 92, 84, 76], ans: 68, type: "Arithmetic (-8)" },
        { seq: [2, 6, 18, 54], ans: 162, type: "Geometric (x3)" },
        { seq: [1, 1, 2, 3, 5, 8], ans: 13, type: "Fibonacci" },
        { seq: [1, 4, 9, 16], ans: 25, type: "Perfect Squares" }
    ];

    let currentLevel = 0;
    let score = 0;
    let lives = 3;
    let startTime = Date.now();

    function updateLives() {
        const heartIcons = "‚ù§Ô∏è".repeat(lives) + "üñ§".repeat(3 - lives);
        document.getElementById('life-display').innerText = heartIcons;
    }

    function loadLevel() {
        if (currentLevel < levels.length) {
            const level = levels[currentLevel];
            document.getElementById('sequence').innerHTML = level.seq.join(', ') + ', <span style="color:white">?</span>';
            document.getElementById('level-num').innerText = currentLevel + 1;
            document.getElementById('user-input').value = '';
            document.getElementById('feedback').innerText = '';
            startTime = Date.now(); 
        }
    }

    function checkAnswer() {
        const inputField = document.getElementById('user-input');
        const userVal = parseInt(inputField.value);
        const feedback = document.getElementById('feedback');
        
        if (isNaN(userVal)) return;

        if (userVal === levels[currentLevel].ans) {
            // Success Logic
            const timeTaken = (Date.now() - startTime) / 1000;
            const points = Math.max(100, Math.floor(500 - (timeTaken * 10)));
            score += points;
            
            document.getElementById('score').innerText = score;
            feedback.style.color = "var(--neon-green)";
            feedback.innerText = `ACCESS GRANTED: +${points} PTS`;
            
            currentLevel++;
            setTimeout(() => {
                if (currentLevel < levels.length) {
                    loadLevel();
                } else {
                    endGame(true);
                }
            }, 1200);
        } else {
            // Failure Logic
            lives--;
            updateLives();
            feedback.style.color = "var(--neon-red)";
            feedback.innerText = "SECURITY BREACH DETECTED: -1 LIFE";
            
            if (lives <= 0) {
                setTimeout(() => endGame(false), 500);
            }
        }
    }

    function endGame(isWin) {
        const container = document.getElementById('game-container');
        if (isWin) {
            let rank = score > 1800 ? "MASTER CODER" : "SYSTEM ANALYST";
            container.innerHTML = `
                <h2 style="color:var(--neon-green)">MISSION SUCCESS</h2>
                <p>All sequences decrypted.</p>
                <h1 style="color:gold">${score}</h1>
                <p>RANK: ${rank}</p>
                <button onclick="location.reload()">REBOOT SYSTEM</button>
            `;
        } else {
            container.innerHTML = `
                <h2 style="color:var(--neon-red)">SYSTEM LOCKED</h2>
                <p>Too many failed attempts. Core data lost.</p>
                <p>FINAL SCORE: ${score}</p>
                <button onclick="location.reload()">RETRY HACK</button>
            `;
        }
    }

    // Hit enter to submit
    document.getElementById("user-input").addEventListener("keyup", function(event) {
        if (event.key === "Enter") {
            checkAnswer();
        }
    });

    loadLevel();
</script>

</body>
</html>